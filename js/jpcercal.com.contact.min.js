document.addEventListener("DOMContentLoaded",function(){var t,a,n,e=document.querySelector("#contact-form"),i=document.querySelector("#email"),o=document.querySelector("#name"),s=document.querySelector("#message"),r=document.querySelector("#send"),c=document.querySelector("#notification-container"),u=(t={missingData:{pt:"Todos os campos são obrigatórios!",en:"All fields are mandatory!"},incorrectData:{pt:"Alguma coisa que você preencheu parece estar errada...",en:"Something you filled in seems to be wrong..."},sendingData:{pt:"Enviando dados...",en:"Sending data..."},success:{pt:"Formulário enviado com sucesso!",en:"Form submitted successfully!"},error:{pt:"Ops, alguma coisa deu errada com nosso serviço. =/",en:"Ops, something is wrong with our service. =/"}},{trans:function(e){return t[e][window.locale]}}),d={TYPE:{ERROR:"error",SUCCESS:"success"},notify:function(e,t){var n=["notification"];t!==this.TYPE.ERROR&&t!==this.TYPE.SUCCESS||n.push("notification--"+t);var a,i,o,s=(a="p",i=n,(o=document.createElement(a)).setAttribute("class",i.join(" ")),o);s.innerHTML=e,c.innerHTML="",c.appendChild(s)}},l={isMissing:a=function(e,t,n){return 0===e.length||(0===t.length||0===n.length)},isValid:function(e,t,n){return!a(e,t,n)&&!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.toLowerCase())}},p=(n="",axios.get("//api.ipify.org?format=json").then(function(e){200===e.status&&(n=e.data.ip)}),{getIp:function(){return n}});e.addEventListener("submit",function(e){if(e.preventDefault(),r.disabled=!0,l.isMissing(o.value,i.value,s.value))return r.disabled=!1,d.notify(u.trans("missingData"),d.TYPE.ERROR);if(!l.isValid(o.value,i.value,s.value))return r.disabled=!1,d.notify(u.trans("incorrectData"),d.TYPE.ERROR);d.notify(u.trans("sendingData"));var t=new URLSearchParams;t.append("_cc",["jpcercal@gmail.com"].join(",")),t.append("_subject","[via @jpcercal.com] "+o.value),t.append("email",i.value),t.append("name",o.value),t.append("message",s.value),t.append("ip",p.getIp());axios.post("//formspree.io/contact@jpcercal.com",t,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){200==e.status?(d.notify(u.trans("success"),d.TYPE.SUCCESS),r.setAttribute("style","visibility: hidden")):d.notify(u.trans("error"),d.TYPE.ERROR)}).catch(function(e){d.notify(u.trans("error"),d.TYPE.ERROR)}),r.disabled=!1},!1)});