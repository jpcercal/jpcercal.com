document.addEventListener("DOMContentLoaded",function(){var _,d,u,e,c={timer:null,delay:750,minChars:3},i=document.querySelector("#search"),h=document.querySelector("#search-results"),f=(e={createdBy:{pt:"por",en:"by"},noResults:{pt:"Nenhum resultado encontrado",en:"No results found"}},{trans:function(t){return e[t][window.locale]}}),n=function(t){t.preventDefault();var l=i.value;null!=c.timer&&clearTimeout(c.timer),c.timer=setTimeout(function(){if(l.length>=c.minChars){var t=(a=l,r=[],_.search("*"+a+"*").map(function(e){u.filter(function(t){t.id==e.ref&&r.push(t)})}),r),e="";if(h.innerHTML=e,0===t.length)e="<p>“"+f.trans("noResults")+".”</p>";else for(var i=0;i<t.length;i++)e+=(n=t[i],void 0,o=window.baseUrl+("en"==n.language?"en/":""),s=f.trans("createdBy"),d.split("__ID__").join(n.id).split("__TITLE__").join(n.title).split("__AUTHOR__").join(s+" "+n.author).split("__DESCRIPTION__").join(n.description).split("__LANGUAGE__").join(n.language).split("__TAGS__").join(n.tags.join(", ")).split("__IMAGE__").join(o+n.image).split("__CATEGORYURL__").join(o+"categories/"+n.categoryUrl).split("__CATEGORYTITLE__").join(n.categoryTitle).split("__CONTENT__").join(n.content).split("__HREF__").join(o+n.slug));h.innerHTML=e}var n,o,s,a,r},c.delay)};axios.all([axios.get(window.baseUrl+"search-template.html"),axios.get(window.baseUrl+"search.json")]).then(axios.spread(function(t,e){d=t.data.trim(),u=e.data,_=lunr(function(){this.field("title",{boost:50}),this.field("description",{boost:25}),this.field("categoryTitle",{boost:20}),this.field("tags",{boost:15}),this.field("content",{boost:10}),this.field("author",{boost:5}),this.field("language",{boost:2}),this.ref("id"),u.forEach(function(t){this.add(t)},this)}),i.addEventListener("keyup",n),i.addEventListener("input",n)}))});